<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{{ page_title }}</title>
<script src="https://cdn.tailwindcss.com"></script>
<script>tailwind.config={theme:{extend:{colors:{'neon-pink':'#FF10F0','neon-blue':'#00F0FF','neon-green':'#39FF14'}}}}</script>
</head>
<body class="bg-gradient-to-br from-purple-900 via-black to-indigo-900 min-h-screen text-white">
<nav class="sticky top-0 z-50 backdrop-blur-lg bg-black/50 border-b border-neon-pink/20">
<div class="container mx-auto px-4 py-4 flex items-center justify-between">
<a href="/" class="text-3xl font-black bg-gradient-to-r from-neon-pink to-neon-blue bg-clip-text text-transparent">SneakPeak</a>
<button onclick="toggleCart()" class="relative hover:scale-110 transition-transform">
<svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path></svg>
<span id="cart-count" class="absolute -top-2 -right-2 bg-neon-pink text-xs rounded-full h-5 min-w-[1.25rem] px-1.5 flex items-center justify-center font-bold">0</span>
</button>
</div>
</nav>
<div id="cart-sidebar" class="fixed right-0 top-0 h-full w-96 bg-black/95 backdrop-blur-xl border-l border-neon-pink/30 transform translate-x-full transition-transform z-50 overflow-y-auto">
<div class="p-6">
<div class="flex justify-between items-center mb-6">
<h2 class="text-2xl font-bold">Cart</h2>
<button onclick="toggleCart()"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button>
</div>
<div id="cart-items" class="space-y-4 mb-6"></div>
<div class="border-t border-gray-700 pt-4">
<div class="flex justify-between mb-4"><span>Total:</span><span id="cart-total" class="text-2xl font-bold text-neon-pink">$0.00</span></div>
<a href="/checkout" class="block w-full bg-gradient-to-r from-neon-pink to-neon-blue text-white font-bold py-3 rounded-lg text-center hover:opacity-90">Checkout</a>
</div>
</div>
</div>
<main>{% block content %}{% endblock %}</main>
<script>
let cart=JSON.parse(localStorage.getItem('cart')||'[]');
function updateCartUI(){
const cc=document.getElementById('cart-count'),ci=document.getElementById('cart-items'),ct=document.getElementById('cart-total');
cc.textContent=cart.reduce((s,i)=>s+i.quantity,0);
if(!cart.length){ci.innerHTML='<p class="text-gray-400 text-center py-8">Empty</p>';ct.textContent='$0.00';return;}
let total=0;
ci.innerHTML=cart.map(item=>{
const it=item.price*item.quantity;total+=it;
return`<div class="flex gap-4 bg-gray-900/50 p-4 rounded-lg"><img src="${item.image}" class="w-20 h-20 object-cover rounded"><div class="flex-1"><h3 class="font-bold">${item.name}</h3><p class="text-sm text-gray-400">Size ${item.size} | ${item.color}</p><div class="flex items-center gap-2 mt-2"><button onclick="updateQuantity(${item.id},${item.quantity-1},'${item.size}','${item.color}')" class="w-6 h-6 bg-gray-800 rounded">-</button><span>${item.quantity}</span><button onclick="updateQuantity(${item.id},${item.quantity+1},'${item.size}','${item.color}')" class="w-6 h-6 bg-gray-800 rounded">+</button><button onclick="removeFromCart(${item.id},'${item.size}','${item.color}')" class="ml-auto text-red-400">Ã—</button></div></div><div class="text-right"><p class="font-bold text-neon-pink">$${it.toFixed(2)}</p></div></div>`;
}).join('');
ct.textContent='$'+total.toFixed(2);
}
function toggleCart(){document.getElementById('cart-sidebar').classList.toggle('translate-x-full');}
function addToCart(product,size,color){
const ex=cart.find(i=>i.id===product.id&&i.size===size&&i.color===color);
if(ex)ex.quantity+=1;else cart.push({id:product.id,name:product.name,price:product.price,image:product.image,size:size,color:color,quantity:1});
localStorage.setItem('cart',JSON.stringify(cart));updateCartUI();toggleCart();
}
function updateQuantity(id,q,size,color){
if(q<=0){removeFromCart(id,size,color);return;}
const item=cart.find(i=>i.id===id&&i.size===size&&i.color===color);
if(item){item.quantity=q;localStorage.setItem('cart',JSON.stringify(cart));updateCartUI();}
}
function removeFromCart(id,size,color){cart=cart.filter(i=>!(i.id===id&&i.size===size&&i.color===color));localStorage.setItem('cart',JSON.stringify(cart));updateCartUI();}
function getCart(){return cart;}
function clearCart(){cart=[];localStorage.setItem('cart',JSON.stringify(cart));updateCartUI();}
updateCartUI();
</script>
{% block scripts %}{% endblock %}
</body>
</html>
